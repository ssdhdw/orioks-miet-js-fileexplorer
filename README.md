Файловая система храницища ОРИОКС
========================

Файловая система для храницища ОРИОКС ВУЗа МИЭТ, использующая для отображения контента виждет js-fileexplorer

Возможности
--------

* Загрузка, скачивание и удаление файлов
* Создание папок и перемещение в них файлов
* Синхронизация изменений с хранилищем
* И, возможно, что-то ещё. Посмотреть весь список можно в [репозитории js-fileexplorer](https://github.com/cubiclesoft/js-fileexplorer)

Установка
---------------

Посмотреть демонстрацию можно по [ссылке](https://orioks.miet.ru/storage/d/1429688/4311593211ac0139138cce72debc9e97845db30d/demo%20orioks.html)

Если ссылка по какой-то причине не работает, то можно згрузить файлы в систему самостоятельно:

1. Из папки file-explorer загрузите `fileexplorer_sprites.png` и `fileexplorer_actions.woff` в хринилище

2. Скопируйте ссылки на загруженные файлы

3. Отредактируйте файл `file-explorer.css`: Замените все вхождения `fileexplorer_sprites.png` и `fileexplorer_actions.woff` на соответствующие ссылки и 2 пункта

4. Загрузите `file-explorer.css` и `file-explorer.js` в хринилище

5. Скопируйте ссылки на `file-explorer.css` и `file-explorer.js`

6. Отредактируйте файл demo.html:

В строке 
```html
<link rel="stylesheet" type="text/css" href="file-explorer.css">
```
замените `file-explorer.css` на ссылку из 5 пункта

В строке
```html
<script type="text/javascript" src="file-explorer.js"></script>
```
замените `file-explorer.js` на ссылку из 5 пункта

7. Загрузите файл demo.html в хранилище

8. Готово! Теперь при открытии ссылки на demo.html будет открываться виджет.
При первом запуске все загруженные ранее файлы будут рассортированы по расширениям,
а в хранилище появиться файл `//database.json`

Исправление проблем и предосторожности
---------------

* Удаление файла в виджете удаляет файл из ориокса
* Удаление файлов file-explorer ломает виджет

Структура папок - логическая модель расположения документов, которая храниться в файле `//database.json`
* Удаление файла `//database.json` удаляет структуру папок
* Если загрузка файлов не работает, то структура так же не будет сохраняться
* Во время загрузки файла структура папок не сохраняется
* Изменения названий файлов сохраняются в  `//database.json`, то есть в ориоксе название останется прежним